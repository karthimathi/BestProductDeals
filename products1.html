<script>
    // Generate 50 random products
    function generateProducts() {
        const products = [];
        const categories = [
            "electronics", "home", "fashion", "beauty", "sports", 
            "toys", "books", "office", "garden", "kitchen"
        ];
        const imageBaseUrl = "https://source.unsplash.com/random/600x600/?";
        
        for (let i = 1; i <= 50; i++) {
            const category = categories[Math.floor(Math.random() * categories.length)];
            const discount = Math.floor(Math.random() * 50) + 10;
            const originalPrice = Math.floor(Math.random() * 500) + 50;
            const currentPrice = originalPrice * (1 - discount / 100);
            const rating = (Math.random() * 2 + 3).toFixed(1);
            const reviews = Math.floor(Math.random() * 5000) + 100;
            
            // Amazon affiliate link format (You can replace YOURAFFID)
            const affiliateLink = `https://www.amazon.in/s?k=${category}&tag=YOURAFFID`;

            products.push({
                id: i,
                title: `Premium Product ${i} - High Quality ${category}`,
                category: category,
                price: currentPrice.toFixed(2),
                originalPrice: originalPrice.toFixed(2),
                image: `${imageBaseUrl}${category}`,
                rating: parseFloat(rating),
                reviews: reviews,
                badge: `${discount}% OFF`,
                link: affiliateLink
            });
        }
        return products;
    }

    // Generate star rating HTML
    function generateStarRating(rating) {
        let stars = '';
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 !== 0;
        
        for (let i = 0; i < fullStars; i++) stars += '<i class="fas fa-star"></i>';
        if (hasHalfStar) stars += '<i class="fas fa-star-half-alt"></i>';
        const emptyStars = 5 - Math.ceil(rating);
        for (let i = 0; i < emptyStars; i++) stars += '<i class="far fa-star"></i>';
        return stars;
    }

    // Display products on the page
    function displayProducts(products) {
        const container = document.getElementById('products-container');
        container.innerHTML = '';

        products.forEach(product => {
            const savings = Math.round(
                ((parseFloat(product.originalPrice) - parseFloat(product.price)) / parseFloat(product.originalPrice)) * 100
            );
            
            const productCard = document.createElement('div');
            productCard.className = 'product-card fade-in';
            productCard.innerHTML = `
                <div class="product-badge">${product.badge}</div>
                <div class="product-img" style="background-image: url('${product.image}&sig=${product.id}');"></div>
                <div class="product-content">
                    <h3 class="product-title">${product.title}</h3>
                    <div class="product-price">
                        <span class="current-price">$${product.price}</span>
                        <span class="original-price">$${product.originalPrice}</span>
                        <span class="savings">Save ${savings}%</span>
                    </div>
                    <div class="rating">
                        ${generateStarRating(product.rating)}
                        <span>(${product.rating})</span>
                    </div>
                    <a href="${product.link}" target="_blank" class="btn btn-primary">View Deal</a>
                    <div class="product-meta">
                        <span><i class="far fa-clock"></i> Limited time</span>
                        <span><i class="fas fa-fire"></i> ${product.reviews} reviews</span>
                    </div>
                </div>
            `;
            container.appendChild(productCard);
        });
    }

    // Pagination logic
    const productsPerPage = 10;
    let allProducts = [];
    let currentPage = 1;

    function showPage(page) {
        const start = (page - 1) * productsPerPage;
        const end = start + productsPerPage;
        displayProducts(allProducts.slice(start, end));
    }

    document.addEventListener('DOMContentLoaded', function() {
        allProducts = generateProducts();
        showPage(currentPage);

        const pageButtons = document.querySelectorAll('.page-btn');
        pageButtons.forEach((button, index) => {
            button.addEventListener('click', function() {
                pageButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                currentPage = index + 1;
                showPage(currentPage);
                document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
            });
        });
    });
</script>
